<div *ngIf="exams; else elseBlock">
    <mat-card *ngFor="let e of exams; let i=index">
        <mat-toolbar>
            <span> {{ e.title }}</span>
        </mat-toolbar>      
        <p>Materia: {{ e.course }}</p>
        <p>Fecha: {{ e.applicationDate }}</p>
        <p>Estudiante: {{ e.student_name }}</p>
        <p>Expression: {{ e.expression }}</p>
        <p>Calificacion: <b>{{ e.score }}</b> </p>
        <mat-card *ngFor="let p of e.parameterGrades">
            <mat-expansion-panel (opened)="panelOpenState = true"
                                (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
            <mat-panel-title>
                {{p.label}} calificacion:{{p.score}}
            </mat-panel-title>
            <mat-panel-description> 
            </mat-panel-description>
            </mat-expansion-panel-header>
            <div *ngFor="let c of p.criteriaGrades">
                {{ c.label }}
                <mat-card>
                    <div *ngFor="let a of c.aspectGrades">
                        {{ a.label }} : {{ scoreFormat(a.score) }}
                    </div> 
                </mat-card>
            </div> 
            <p>comentario: {{p.evaluator_comment}}</p> 
            </mat-expansion-panel>        
            
        </mat-card>
        <mat-card>
            <app-examgrades-report [exam]="e" ></app-examgrades-report>
        </mat-card>

    </mat-card>
</div>
<ng-template #elseBlock>Cargando Calificaciones.</ng-template>