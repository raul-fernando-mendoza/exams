Habilidad
<form *ngIf="m" [formGroup]="m" >
  <mat-card >
    <mat-card-title-group>
      <mat-card-title *ngIf="!isAdmin">{{ m.controls.materia_name.value }}</mat-card-title>
      <mat-card-title *ngIf="isAdmin">
        <mat-form-field class="field-name">
          <mat-label>Nombre</mat-label>
          <input  matInput type="text"  formControlName="materia_name" (change)="onPropertyChange($event)" >
        </mat-form-field>  
      </mat-card-title>
      <img mat-card-sm-image src="{{materia.materiaIconUrl}}">
    </mat-card-title-group>
    <mat-card-content>
      <mat-form-field *ngIf="isAdmin" class="attach-file"> 
        <div id="materiaIconStatus"></div> 
        <mat-label>change icon</mat-label>        
        <button mat-icon-button matSuffix (click)="materiaIcon.click()">
            <mat-icon>attach_file</mat-icon> 
        </button>
        <button class="remove-property-button" mat-icon-button matSuffix  (click)="removePropertyValue('materiaIcon')">
        <mat-icon>delete</mat-icon>
        </button>      
        <input hidden (change)="selectFile($event)" name="materiaIcon" #materiaIcon type="file" >
        <input class="nothing" matInput disabled> 
      </mat-form-field>
      <div class="description" *ngIf="!isAdmin">{{m.controls.description.value}}</div> 
      <mat-form-field *ngIf="isAdmin" appearance="outline">
        <mat-label>description</mat-label>
        <textarea  matInput maxlength="2000" rows="3" formControlName="description" (change)="onPropertyChange($event)"></textarea>
      </mat-form-field> 
    </mat-card-content>
    <mat-card-actions *ngIf="isAdmin && materia_id">
      <mat-checkbox *ngIf="isAdmin" formControlName="isEnrollmentActive" name="isEnrollmentActive"  (change)="onCheckboxChange($event)" >
        Enrolado activo
      </mat-checkbox>

      <mat-form-field *ngIf="isAdmin" appearance="legacy">
          <mat-label>Certificado Maestro</mat-label>
          <mat-select formControlName="certificateTypeId"  name="certificateTypeId" (selectionChange)="onSelectChange($event, m)">
            <mat-option *ngFor="let tc of certificateTypes" [value]="tc.id">
              {{tc.certificateTypeName}}
            </mat-option>
          </mat-select>
      </mat-form-field>
      
      <button mat-raised-button color="primary" *ngIf="isAdmin" (click)="onCertificateTypes()">Certificados Maestros</button>
    </mat-card-actions>
  </mat-card>          
  <mat-card>
    <mat-card-title-group>
      <mat-card-title>Objetivos</mat-card-title>


      <img class="image" src="{{materia.pictureUrl}}">
    </mat-card-title-group>
    <mat-card-content>
      
      <div id="pictureStatus"></div>
      <mat-form-field *ngIf="isAdmin && materia_id">    
          <mat-label>Cambiar Imagen</mat-label>      
          <button mat-icon-button matSuffix (click)="picture.click()">
              <mat-icon>attach_file</mat-icon> 
          </button>
          <button class="remove-property-button" mat-icon-button matSuffix  (click)="removePropertyValue('picture')">
          <mat-icon>delete</mat-icon>
          </button>      
          <input hidden (change)="selectFile($event)" name="picture" #picture type="file" >
          <input class="nothing" matInput disabled> 
      </mat-form-field>

      <quill-view-html *ngIf="!isAdmin" [content]="m.controls.pictureDescription.value"></quill-view-html>
      <quill-editor *ngIf="isAdmin" [modules]="modules" formControlName="pictureDescription" (onBlur)="onBlur('pictureDescription', $event)"  placeholder="Descripción de la imagen"></quill-editor>

    </mat-card-content>
  </mat-card>
  <mat-card *ngIf="isAdmin || (materia.videoDescription || materia.videoUrl)">
    <mat-card-title-group>
      <mat-card-title>Experiencias</mat-card-title>

    </mat-card-title-group>
    <mat-card-content>
      <div class="video-container">
        <app-vjs-player *ngIf="isAdmin && materia && materia.videoUrl" source="{{materia.videoUrl}}"></app-vjs-player>  
        <video *ngIf="!isAdmin && materia && materia.videoUrl" class="video-js vjs-default-skin" controls preload="auto"
        vjs-video vjs-setup="options">
          <source src="{{ materia.videoUrl }}" type='video/mp4' />
        </video> 
      </div>    

      <div *ngIf="isAdmin && materia">
        <div id="videoStatus"></div>

        <mat-form-field>
            <mat-label>Change video</mat-label>
            <input matInput disabled> 
            <button mat-icon-button matSuffix (click)="video.click()">
                <mat-icon>attach_file</mat-icon> 
            </button>
            <button class="remove-property-button" mat-icon-button matSuffix  (click)="removePropertyValue('video')">
            <mat-icon>delete</mat-icon>
            </button>      
            <input hidden (change)="selectFile($event)" name="video" #video type="file" >
        </mat-form-field>
      </div>
      <quill-view-html *ngIf="!isAdmin" [content]="m.controls.videoDescription.value"></quill-view-html>
      <quill-editor *ngIf="isAdmin" [modules]="modules" formControlName="videoDescription" (onBlur)="onBlur('videoDescription', $event)"  placeholder="Descripción del video"></quill-editor>


      <div class="examen-container">
        <h3>Examenes<button *ngIf="isAdmin && materia" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
        </button></h3>
        <mat-menu #menu="matMenu" >
          <button mat-menu-item (click)="onCreateExam()" [disabled]="submitting">
            <mat-icon>library_add</mat-icon>
            <span>Nuevo Examen</span>
          </button>            
        </mat-menu>      
        <div *ngFor="let e of m.controls.exams.controls">
          <span *ngIf="!isAdmin"><li>{{e.controls.label.value}}</li></span>
          <button *ngIf="isAdmin && m.controls.id.value" mat-button (click)="onEditExam(m.controls.id.value,e.controls.id.value)">{{e.controls.label.value}}</button>
          <button *ngIf="isAdmin && m.controls.id.value" mat-icon-button [matMenuTriggerFor]="menu" >
              <mat-icon>more_vert</mat-icon>
          </button>
            <mat-menu #menu="matMenu" >
              <button  mat-menu-item (click)="onDeleteExam(m.controls.id.value, e.controls.id.value)" [disabled]="submitting">
                <mat-icon>delete</mat-icon>
                <span>Borrar</span>
              </button>      
              <button  mat-menu-item (click)="onDuplicateExam(m.controls.id.value, e.controls.id.value, e.controls.label.value)" [disabled]="submitting">
                <mat-icon>content_copy</mat-icon>
                <span>Duplicar</span>
              </button>       
            </mat-menu>
        </div>
      </div> 

      <div class="examen-container">
        <h3>Lecciones interactivas<button *ngIf="isAdmin && materia" mat-icon-button [matMenuTriggerFor]="menuLab" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
        </button></h3>
        <mat-menu #menuLab="matMenu" >
          <button mat-menu-item (click)="onCreateLaboratory()" [disabled]="submitting">
            <mat-icon>library_add</mat-icon>
            <span>Nueva Leccion Interactiva</span>
          </button>            
        </mat-menu>      
        <div *ngFor="let l of m.controls.laboratories.controls">
          <span *ngIf="!isAdmin"><li>{{l.controls.label.value}}</li></span>
          <button *ngIf="isAdmin && m.controls.id.value" mat-button (click)="onEditLaboratory(m.controls.id.value,l.controls.id.value)">{{l.controls.label.value}}</button>
          <button *ngIf="isAdmin && m.controls.id.value" mat-icon-button [matMenuTriggerFor]="menu" >
              <mat-icon>more_vert</mat-icon>
          </button>
            <mat-menu #menu="matMenu" >
              <button  mat-menu-item (click)="onDeleteLaboratory(m.controls.id.value, l.controls.id.value)" [disabled]="submitting">
                <mat-icon>delete</mat-icon>
                <span>Borrar leccion interactiva</span>
              </button>      
            </mat-menu>
        </div>
      </div> 
      <mat-divider></mat-divider>
      <materia-reference-list *ngIf="isAdmin || hasEnrollment" materia_id="{{materia_id}}"></materia-reference-list>
    </mat-card-content>
    <mat-card-actions>

    </mat-card-actions> 
  </mat-card> 
  
  <div>
    <!--
    <button mat-raised-button color="primary" *ngIf="isLoggedIn && materia && materia.isEnrollmentActive && (hasEnrollment==false)" (click)="onEnroll()">Enrolar</button>
    -->
    <span *ngIf="hasEnrollment">Usted ya esta enrolado en esta habilidad</span>  
  </div>
</form>





 