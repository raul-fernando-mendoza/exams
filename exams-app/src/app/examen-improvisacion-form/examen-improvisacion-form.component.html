<form [formGroup]="examForm" novalidate (ngSubmit)="onSubmit()">
  <mat-card class="shipping-card">
    <mat-card-header>
      <mat-card-title>Crear Examen Improvisacion</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-grid-list cols="3" rowHeight="4em">
        <mat-grid-tile>
          <!--
          <mat-radio-group aria-label="Tipo Examen" formControlName="examImproType">
            <mat-radio-button *ngFor="let t of getExamTypes()" value="{{t.id}}" (change)="examTypeChange($event)">
              {{t.label}}
            </mat-radio-button>
          </mat-radio-group>
          -->
          <mat-form-field appearance="fill" >
            <mat-label>Tipo de examen</mat-label>
            <mat-select formControlName="examImproType" (selectionChange)="examTypeChange($event)">
              <mat-option *ngFor="let t of getExamTypes()" [value]="t.id" >
                {{t.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>             
        </mat-grid-tile>
        <mat-grid-tile>
          <mat-form-field appearance="fill" >
            <mat-label>selecciona estudiante</mat-label>
            <mat-select formControlName="examImproEstudiante">
              <mat-option *ngFor="let e of getExamEstudiantes()" [value]="e.id">
                {{e.estudianteName}}
              </mat-option>
            </mat-select>
          </mat-form-field> 
        </mat-grid-tile>
        <mat-grid-tile>
          <mat-form-field color="accent" appearance="fill">
            <mat-label>Seleccione una fecha de applicacion del examen</mat-label>
            <input matInput [matDatepicker]="picker1">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </mat-grid-tile>
      </mat-grid-list>
    </mat-card-content>
<!--
  </mat-card>
  <mat-card class="shipping-card">
-->    
    <mat-card-header>
      <mat-card-title>Parameters</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngFor="let p of parametersFormGroups">
        <div  [formGroup]="p">
          <mat-grid-list cols="2" rowHeight="3em">
            <mat-grid-tile>{{ p.controls["label"].value }}</mat-grid-tile>
            <mat-grid-tile>
              <mat-form-field appearance="fill" >
                <mat-label>selecciona maestro</mat-label>
                <mat-select formControlName="maestroId">
                  <mat-option *ngFor="let m of getExamMaestros()" [value]="m.id">
                    {{m.nombre}}
                  </mat-option>
                </mat-select>
              </mat-form-field>               
            </mat-grid-tile>
          </mat-grid-list>
        </div>
        
        <div *ngFor="let c of getCriteriaFormGroups(p)" >
          <div  [formGroup]="c">
            {{ c.controls["label"].value }}
            <mat-checkbox  formControlName="isSelected"></mat-checkbox>
          </div>
        </div> 
                 
      </div>
      <mat-card-actions>
        <button mat-raised-button color="primary" type="submit">Enviar</button>
      </mat-card-actions>      
    </mat-card-content>
  </mat-card>  
    
</form>
